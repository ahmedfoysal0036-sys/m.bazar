<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Vault Pro 1.2 - Master Faisal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root { --main-gold: #FF8C00; --glow: rgba(255, 140, 0, 0.5); }
        
        /* Futuristic Startup Animation */
        @keyframes startupGlow {
            0% { opacity: 0; filter: brightness(0.2); background: #000; }
            100% { opacity: 1; filter: brightness(1); background: #fdfcfb; }
        }
        
        body { animation: startupGlow 1.5s ease-out; transition: 0.3s; font-family: 'Segoe UI', sans-serif; background-color: #fdfcfb; overflow-x: hidden; }
        .dark-mode { background-color: #121212 !important; color: #e0e0e0; }
        .dark-mode .sidebar { background: #1a1a1a; border-right: 1px solid #333; }
        .dark-mode .node-card { background: #1e1e1e; border-left-color: var(--main-gold); color: #fff; }

        /* Sidebar Style */
        .sidebar { height: 100vh; width: 240px; position: fixed; left: 0; top: 0; background: #fff; border-right: 1px solid #eee; z-index: 100; transition: 0.3s; }
        .main-content { margin-left: 240px; padding: 20px; transition: 0.3s; }
        
        @media (max-width: 768px) {
            .sidebar { width: 100%; height: auto; position: relative; }
            .main-content { margin-left: 0; }
            .sidebar-menu { display: flex; overflow-x: auto; }
        }

        .nav-btn { width: 100%; text-align: left; padding: 15px 25px; font-weight: bold; transition: 0.2s; border-left: 4px solid transparent; }
        .nav-btn:hover, .nav-btn.active { background: rgba(255,140,0,0.1); border-left-color: var(--main-gold); color: var(--main-gold); }
        
        .node-card { background: white; border-radius: 12px; padding: 15px; border-left: 6px solid var(--main-gold); margin-bottom: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.03); }
        .hidden { display: none; }
        
        /* Pulse Animation for Warning */
        .pulse-red { animation: pulse 2s infinite; }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); } 70% { box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); } 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); } }
    </style>
</head>
<body id="app-body">

    <div id="auth-gate" class="flex items-center justify-center min-h-screen no-print">
        <div class="max-w-md w-full p-8 bg-white dark:bg-gray-800 rounded-3xl shadow-2xl scale-in">
            <h2 class="text-3xl font-bold mb-6 text-orange-600 text-center">Vault Pro 1.2</h2>
            <div onkeypress="if(event.keyCode==13) authorizeSystem()">
                <input type="text" id="user-id" placeholder="Admin Identity" class="w-full p-4 mb-4 border rounded-2xl dark:bg-gray-700 outline-orange-500">
                <input type="password" id="access-code" placeholder="Secure Key" class="w-full p-4 mb-6 border rounded-2xl dark:bg-gray-700 outline-orange-500">
                <button onclick="authorizeSystem()" class="w-full bg-orange-500 text-white p-4 rounded-2xl font-bold hover:brightness-110 shadow-lg transition">INITIATE SYSTEM</button>
            </div>
            <p id="auth-err" class="text-red-500 mt-4 hidden text-center italic">Biometric/Key Mismatch.</p>
        </div>
    </div>

    <div id="master-dashboard" class="hidden">
        <div class="sidebar no-print">
            <div class="p-6 text-center">
                <h2 class="text-xl font-bold text-orange-600">PERSONAL VAULT</h2>
                <p class="text-[10px] text-gray-400">Created by Ahmed Faisal</p>
            </div>
            <nav class="sidebar-menu">
                <button onclick="showTab('bazar')" id="btn-bazar" class="nav-btn active">üìä Inventory</button>
                <button onclick="showTab('gallery')" id="btn-gallery" class="nav-btn">üñºÔ∏è Gallery</button>
                <button onclick="showTab('vault')" id="btn-vault" class="nav-btn">üîê Secret Vault</button>
                <button onclick="showTab('guide')" id="btn-guide" class="nav-btn">üìñ User Guide</button>
                <button onclick="showTab('jobs')" id="btn-jobs" class="nav-btn">‚öôÔ∏è Settings</button>
                <button onclick="logout()" class="nav-btn text-red-500 mt-10">üö™ Logout</button>
            </nav>
        </div>

        <main class="main-content">
            <div id="tony-content" class="hidden">
                <div class="flex justify-between items-center mb-6">
                    <div>
                        <h1 class="text-2xl font-bold">Welcome, Professor</h1>
                        <p id="budget-info" class="text-sm text-gray-500">Budget Limit: ‡ß≥10,000</p>
                    </div>
                    <button onclick="toggleDarkMode()" class="p-2 rounded-full bg-gray-200 dark:bg-gray-700">üåì</button>
                </div>

                <div id="tab-bazar">
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border mb-6 no-print">
                        <div class="grid grid-cols-1 md:grid-cols-5 gap-3 mb-4">
                            <input type="text" id="it-name" list="grocery-suggestions" placeholder="Item Name" class="p-3 border rounded-xl dark:bg-gray-700">
                            <datalist id="grocery-suggestions">
                                <option value="Fish (‡¶Æ‡¶æ‡¶õ)"> <option value="Meat (‡¶Æ‡¶æ‡¶Ç‡¶∏)"> <option value="Medicine">
                                <option value="Utility Bill"> <option value="Tuition Bill"> <option value="Rice (‡¶ö‡¶æ‡¶≤)">
                                <option value="Oil (‡¶§‡ßá‡¶≤)"> <option value="Internet Bill">
                            </datalist>
                            <input type="number" id="it-price" placeholder="Unit Price" class="p-3 border rounded-xl dark:bg-gray-700" oninput="calcTotal()">
                            <input type="number" id="it-qty" placeholder="Qty" class="p-3 border rounded-xl dark:bg-gray-700" oninput="calcTotal()">
                            <input type="text" id="it-total-box" placeholder="Total" class="p-3 border rounded-xl bg-gray-50 dark:bg-gray-600 font-bold" readonly>
                            <select id="it-unit" class="p-3 border rounded-xl dark:bg-gray-700">
                                <option>KG</option><option>Piece</option><option>Litre</option><option>Month</option>
                            </select>
                        </div>
                        <div class="flex gap-2">
                            <button onclick="addBazarItem()" class="bg-orange-500 text-white px-8 py-3 rounded-xl font-bold">Add to List</button>
                            <select id="sel-month" onchange="renderBazar()" class="p-3 border rounded-xl font-bold"></select>
                        </div>
                    </div>
                    <div id="bazar-display" class="space-y-3"></div>
                </div>

                <div id="tab-gallery" class="hidden">
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-2xl border mb-6 no-print">
                        <h3 class="font-bold mb-4">Add Image to Folder</h3>
                        <div class="flex flex-col md:flex-row gap-4">
                            <input type="text" id="img-url" placeholder="Paste URL..." class="flex-1 p-3 border rounded-xl dark:bg-gray-700">
                            <label class="bg-blue-600 text-white px-6 py-3 rounded-xl font-bold cursor-pointer text-center">
                                üìÅ Choose File
                                <input type="file" id="img-file" accept="image/*" onchange="handleFileUpload(event)" class="hidden">
                            </label>
                        </div>
                    </div>
                    <div id="gallery-display" class="grid grid-cols-2 md:grid-cols-4 gap-4"></div>
                </div>

                <div id="tab-vault" class="hidden"><div class="bg-white dark:bg-gray-800 p-6 rounded-2xl border mb-4"><textarea id="vault-data" class="w-full p-4 border rounded-xl h-40 dark:bg-gray-700" placeholder="Store secret codes..."></textarea><button onclick="saveVault()" class="mt-2 bg-blue-600 text-white px-8 py-2 rounded-xl">Save Secret</button></div><div id="vault-display"></div></div>
                <div id="tab-guide" class="hidden"><div class="node-card"><b>V1.2 Feature List:</b><br>‚Ä¢ Vertical Menu for easier access.<br>‚Ä¢ Real-time Total Price Calculation.<br>‚Ä¢ Local Gallery Upload Support.<br>‚Ä¢ One-click Backup/Restore.</div></div>
                <div id="tab-jobs" class="hidden"><div class="p-6 bg-white dark:bg-gray-800 rounded-2xl border"><h3 class="font-bold mb-4">System Settings</h3><button onclick="exportData()" class="w-full bg-black text-white py-3 rounded-xl mb-3">Download Backup</button><label class="w-full block bg-gray-200 dark:bg-gray-600 text-center py-3 rounded-xl cursor-pointer">Restore Data<input type="file" onchange="importData(event)" class="hidden"></label></div></div>
            </div>
        </main>
    </div>

    <script>
        const KEY = 'vault_pro_v12';
        let db = JSON.parse(localStorage.getItem(KEY)) || { bazaar: [], vault: [], gallery: [], isAuth: false, darkMode: false };

        window.onload = () => {
            if(db.isAuth) {
                document.getElementById('auth-gate').classList.add('hidden');
                document.getElementById('master-dashboard').classList.remove('hidden');
                document.getElementById('tony-content').classList.remove('hidden');
            }
            if(db.darkMode) toggleDarkMode(true);
            populateMonths(); renderBazar(); renderGallery();
        };

        function authorizeSystem() {
            if(document.getElementById('user-id').value === "faisal" && document.getElementById('access-code').value === "1234") {
                db.isAuth = true; saveDB(); location.reload();
            } else { document.getElementById('auth-err').classList.remove('hidden'); }
        }

        function calcTotal() {
            const p = parseFloat(document.getElementById('it-price').value) || 0;
            const q = parseFloat(document.getElementById('it-qty').value) || 0;
            document.getElementById('it-total-box').value = "‡ß≥" + (p * q).toFixed(2);
        }

        function addBazarItem() {
            const name = document.getElementById('it-name').value;
            const price = parseFloat(document.getElementById('it-price').value) || 0;
            const qty = parseFloat(document.getElementById('it-qty').value) || 0;
            const month = document.getElementById('sel-month').value;
            if(name && price) {
                db.bazaar.push({ month, name, price, qty, total: price * qty, date: new Date().toLocaleDateString() });
                saveDB(); renderBazar(); document.getElementById('it-name').value = '';
            }
        }

        function handleFileUpload(e) {
            const reader = new FileReader();
            reader.onload = function() {
                db.gallery.push(reader.result);
                saveDB(); renderGallery();
            };
            reader.readAsDataURL(e.target.files[0]);
        }

        function renderBazar() {
            const display = document.getElementById('bazar-display'), month = document.getElementById('sel-month').value;
            display.innerHTML = ''; let total = 0;
            db.bazaar.filter(i => i.month === month).forEach((item, i) => {
                total += item.total;
                display.innerHTML += `<div class="node-card flex justify-between">
                    <div><b>${item.name}</b><br><small>${item.qty} x ‡ß≥${item.price}</small></div>
                    <div class="text-right"><b class="text-orange-600">‡ß≥${item.total.toFixed(2)}</b><br><button onclick="delItem('bazaar', ${i})" class="text-red-500 text-xs">Delete</button></div>
                </div>`;
            });
            if(total > 8000) document.getElementById('app-body').classList.add('pulse-red');
        }

        function showTab(tab) {
            ['bazar', 'vault', 'gallery', 'guide', 'jobs'].forEach(t => {
                document.getElementById('tab-' + t).classList.add('hidden');
                document.getElementById('btn-' + t).classList.remove('active');
            });
            document.getElementById('tab-' + tab).classList.remove('hidden');
            document.getElementById('btn-' + tab).classList.add('active');
        }

        function populateMonths() {
            const months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
            const sel = document.getElementById('sel-month');
            months.forEach(m => {
                let opt = document.createElement('option'); opt.text = m; opt.value = m;
                if(m === months[new Date().getMonth()]) opt.selected = true;
                sel.add(opt);
            });
        }

        function renderGallery() {
            document.getElementById('gallery-display').innerHTML = db.gallery.map((src, i) => `
                <div class="relative"><img src="${src}" class="w-full h-40 object-cover rounded-xl shadow-lg">
                <button onclick="delItem('gallery', ${i})" class="absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6">√ó</button></div>`).join('');
        }

        function logout() { db.isAuth = false; saveDB(); location.reload(); }
        function saveDB() { localStorage.setItem(KEY, JSON.stringify(db)); }
        function toggleDarkMode(init = false) { if(!init) db.darkMode = !db.darkMode; document.body.classList.toggle('dark-mode', db.darkMode); saveDB(); }
        function delItem(type, i) { if(confirm("Delete?")) { db[type].splice(i, 1); saveDB(); location.reload(); } }
        function exportData() { const a = document.createElement('a'); a.setAttribute("href", "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(db))); a.setAttribute("download", "Vault_Pro_V1.2.json"); a.click(); }
        function importData(e) { const reader = new FileReader(); reader.onload = (ev) => { db = JSON.parse(ev.target.result); saveDB(); location.reload(); }; reader.readAsText(e.target.files[0]); }
    </script>
</body>
</html>
